<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Glowy GO ! ç¥ç€åœ°åœ–å°ˆæ¡ˆ</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; background: #fdfaf5; }
        #map { width: 100vw; height: 100vh; }

        /* çµ•å°å›ºå®šå°ºå¯¸çš„ç¥ç€é»é» CSS */
        .gmap-dot {
            background-color: #FFBF00 !important;
            border: 1px solid #FFFFFF !important;
            border-radius: 50% !important;
            width: 6px !important; 
            height: 6px !important; 
            display: block !important;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        /* UI æ¨™ç±¤ï¼šé ç•™æœªä¾†äº’å‹•åŠŸèƒ½ */
        .ui-overlay {
            position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
            z-index: 1000; display: flex; gap: 8px; width: 95%; justify-content: center;
        }
        .tag {
            background: white; padding: 6px 14px; border-radius: 20px; font-size: 13px;
            border: 1.5px solid #FFBF00; color: #D28E5D; font-weight: bold;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="ui-overlay">
        <div class="tag" onclick="filterType('diaper')">ğŸ¼ å°¿å¸ƒå°</div>
        <div class="tag" onclick="filterType('slope')">â™¿ æ–œå¡</div>
        <div class="tag" onclick="filterType('cafe')">â˜• è¦ªå­å‹å–„</div>
    </div>

    <div id="map"></div>

    <script>
        // 1. åˆå§‹åŒ–åœ°åœ–
        var map = L.map('map', { 
            zoomControl: false, 
            attributionControl: false 
        }).setView([25.056, 121.511], 16);

        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png').addTo(map);

        // 2. å®šç¾©æ¨™ç±¤åœ–æ¨™
        var amberIcon = L.divIcon({
            className: 'none',
            html: '<div class="gmap-dot"></div>',
            iconSize: [6, 6],
            iconAnchor: [3, 3]
        });

        // 3. ã€æ ¸å¿ƒè³‡æ–™åº«ã€‘æœªä¾†å°±åœ¨é€™è£¡å¢åŠ æˆ–åŒ¯å…¥çœŸå¯¦çš„å¤§ç¨»åŸ•åœ°é»
        var spots = [
            { name: "è¿ªåŒ–è¡—éŠå®¢ä¸­å¿ƒ", lat: 25.0562, lng: 121.5108, type: "diaper" },
            { name: "æ°¸æ¨‚å¸‚å ´", lat: 25.0552, lng: 121.5112, type: "diaper" },
            { name: "å¤§ç¨»åŸ•ç¢¼é ­å…¬åœ’", lat: 25.0568, lng: 121.5078, type: "slope" },
            { name: "å°åŒ—éœæµ·åŸéšå»Ÿå‘¨é‚Š", lat: 25.0556, lng: 121.5105, type: "cafe" }
            // é€™è£¡å¯ä»¥ç„¡é™å»¶ä¼¸...
        ];

        // 4. æ¸²æŸ“å¼•æ“ï¼šå°‡è³‡æ–™åº«ä¸­çš„é»ç•«åˆ°åœ°åœ–ä¸Š
        function renderSpots(data) {
            data.forEach(function(spot) {
                L.marker([spot.lat, spot.lng], { icon: amberIcon })
                 .bindPopup("<b>" + spot.name + "</b>") // é»æ“Šé»é»æœƒé¡¯ç¤ºåç¨±
                 .addTo(map);
            });
        }

        // åŸ·è¡Œåˆæ¬¡æ¸²æŸ“
        renderSpots(spots);

        // 5. é ç•™åŠŸèƒ½ï¼šæœªä¾†é»æ“Šæ¨™ç±¤å¯ä»¥éæ¿¾åœ°é»
        function filterType(type) {
            console.log("æ­£åœ¨éæ¿¾é¡å‹ï¼š" + type);
            // é€™è£¡æœªä¾†æœƒåŠ å…¥åˆ‡æ›é¡¯ç¤º/éš±è—æ¨™è¨˜çš„é‚è¼¯
        }
    </script>
</body>
</html>
